FROM postgres:15

# Copy migration files to initialize database
COPY hasura/migrations/001_initial_schema/up.sql /docker-entrypoint-initdb.d/01_initial_schema.sql

# Set proper permissions
RUN chmod 644 /docker-entrypoint-initdb.d/01_initial_schema.sql

# Expose PostgreSQL port
EXPOSE 5432